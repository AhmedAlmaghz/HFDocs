# ุณุทุฑ ุงูุฃูุงูุฑ
ูููุง ููู ูุงุฆูุฉ ุจุฌููุน ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ๐ค Accelerate ูุน ูุนููุงุชูุง

## accelerate config
**ุงูุฃูุฑ**:
`accelerate config` ุฃู `accelerate-config`

ูุจุฏุฃ ุณูุณูุฉ ูู ุงููุทุงูุจุงุช ูุฅูุดุงุก ูุญูุธ ููู ุชูููู `default_config.yml` ููุธุงู ุงูุชุฏุฑูุจ ุงูุฎุงุต ุจู. ูุฌุจ ุชุดุบููู ุฏุงุฆููุง ุฃููุงู ุนูู ุฌูุงุฒู.

**ุงูุงุณุชุฎุฏุงู**:
```bash
accelerate config [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:
* `--config_file CONFIG_FILE` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู. ุณูุชู ุญูุธู ุจุดูู ุงูุชุฑุงุถู ูู ููู ุจุงุณู default_config.yaml ูู ูููุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุงูุฐู ูููู ูุญุชูู ูุชุบูุฑ ุงูุจูุฆุฉ `HF_HOME` ูุถุงููุง ุฅููู 'accelerate'ุ ุฃู ุฅุฐุง ูู ููู ูุฏูู ูุซู ูุฐุง ุงููุชุบูุฑ ุงูุจูุฆูุ ุฏููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุต ุจู (`~/.cache` ุฃู ูุญุชูู `XDG_CACHE_HOME`) ูุถุงููุง ุฅููู `huggingface`.
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ

## accelerate config default
**ุงูุฃูุฑ**:
`accelerate config default` ุฃู `accelerate-config default`

ูู ุจุฅูุดุงุก ููู ุชูููู ุงูุชุฑุงุถู ูู Accelerate ูุน ุนุฏุฏ ูููู ููุท ูู ุงูุนูุงูุงุช ุงููุญุฏุฏุฉ.

**ุงูุงุณุชุฎุฏุงู**:
```bash
accelerate config default [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:
* `--config_file CONFIG_FILE` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู. ุณูุชู ุญูุธู ุจุดูู ุงูุชุฑุงุถู ูู ููู ุจุงุณู default_config.yaml ูู ูููุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุงูุฐู ูููู ูุญุชูู ูุชุบูุฑ ุงูุจูุฆุฉ `HF_HOME` ูุถุงููุง ุฅููู 'accelerate'ุ ุฃู ุฅุฐุง ูู ููู ูุฏูู ูุซู ูุฐุง ุงููุชุบูุฑ ุงูุจูุฆูุ ุฏููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุต ุจู (`~/.cache` ุฃู ูุญุชูู `XDG_CACHE_HOME`) ูุถุงููุง ุฅููู `huggingface`.
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ
* `--mixed_precision {no,fp16,bf16}` (`str`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู ุงูุชุฏุฑูุจ ุนูู ุงูุฏูุฉ ุงููุฎุชูุทุฉ ุฃู ูุง. ุงุฎุชุฑ ุจูู FP16 ูBF16 (bfloat16) ููุชุฏุฑูุจ. ูุฏุนู ุงูุชุฏุฑูุจ BF16 ููุท ูุนุงูุฌุงุช Nvidia Ampere GPUs ูุฅุตุฏุงุฑ PyTorch 1.10 ุฃู ุฃุญุฏุซ.

## accelerate config update
**ุงูุฃูุฑ**:
`accelerate config update` ุฃู `accelerate-config update`

ูู ุจุชุญุฏูุซ ููู ุชูููู ููุฌูุฏ ุจุฃุญุฏุซ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ ูุน ุงูุญูุงุธ ุนูู ุงูุชูููู ุงููุฏูู.

**ุงูุงุณุชุฎุฏุงู**:
```bash
accelerate config update [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:
* `--config_file CONFIG_FILE` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุชุญุฏูุซู. ุณูุชู ุญูุธู ุจุดูู ุงูุชุฑุงุถู ูู ููู ุจุงุณู default_config.yaml ูู ูููุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุงูุฐู ูููู ูุญุชูู ูุชุบูุฑ ุงูุจูุฆุฉ `HF_HOME` ูุถุงููุง ุฅููู 'accelerate'ุ ุฃู ุฅุฐุง ูู ููู ูุฏูู ูุซู ูุฐุง ุงููุชุบูุฑ ุงูุจูุฆูุ ุฏููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุต ุจู (`~/.cache` ุฃู ูุญุชูู `XDG_CACHE_HOME`) ูุถุงููุง ุฅููู `huggingface`.
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ

## accelerate env
**ุงูุฃูุฑ**:
`accelerate env` ุฃู `accelerate-env` ุฃู `python -m accelerate.commands.env`

ูุณุฑุฏ ูุญุชููุงุช ููู ุชูููู ๐ค Accelerate ุงูููุฑุฑ. ูุฌุจ ุงุณุชุฎุฏุงูู ุฏุงุฆููุง ุนูุฏ ูุชุญ ูุดููุฉ ูู [ูุณุชูุฏุน GitHub](https://github.com/huggingface/accelerate).

**ุงูุงุณุชุฎุฏุงู**:
```bash
accelerate env [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:
* `--config_file CONFIG_FILE` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู. ุณูุชู ุญูุธู ุจุดูู ุงูุชุฑุงุถู ูู ููู ุจุงุณู default_config.yaml ูู ูููุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุชุ ูุงูุฐู ูููู ูุญุชูู ูุชุบูุฑ ุงูุจูุฆุฉ `HF_HOME` ูุถุงููุง ุฅููู 'accelerate'ุ ุฃู ุฅุฐุง ูู ููู ูุฏูู ูุซู ูุฐุง ุงููุชุบูุฑ ุงูุจูุฆูุ ุฏููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุฎุงุต ุจู (`~/.cache` ุฃู ูุญุชูู `XDG_CACHE_HOME`) ูุถุงููุง ุฅููู `huggingface`.
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ

## accelerate launch
**ุงูุฃูุฑ**:
`accelerate launch` ุฃู `accelerate-launch` ุฃู `python -m accelerate.commands.launch`

ูุจุฏุฃ ุงููุต ุงูุจุฑูุฌู ุงููุญุฏุฏ ุนูู ูุธุงู ููุฒุน ุจุงููุนููุงุช ุงูุตุญูุญุฉ.

**ุงูุงุณุชุฎุฏุงู**:
```bash
accelerate launch [arguments] {training_script} --{training_script-argument-1} --{training_script-argument-2} ...
```

**ุงูุญุฌุฌ ุงูููุถุนูุฉ**:
- `{training_script}` -- ุงููุณุงุฑ ุงููุงูู ูููุต ุงูุจุฑูุฌู ุงูุฐู ุณูุชู ุชุดุบููู ุจุดูู ูุชูุงุฒู
- `--{training_script-argument-1}` -- ุญุฌุฌ ุงููุต ุงูุจุฑูุฌู ููุชุฏุฑูุจ

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ
* `--config_file CONFIG_FILE` (`str`) -- ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู ููููู ุงูุงูุชุฑุงุถูุฉ ูู ูุต ุงูุฅุทูุงู.
* `-m`ุ `--module` (`bool`) -- ุชุบููุฑ ูู ุนูููุฉ ูุชูุณูุฑ ูุต ุงูุฅุทูุงู ููุต ุจุฑูุฌู Pythonุ ูุงูุชูููุฐ ุจููุณ ุณููู 'python -m'.
* `--no_python` (`bool`) -- ุชุฎุทู ุฅุถุงูุฉ 'python' ูุจู ุงููุต ุงูุจุฑูุฌู ููุชุฏุฑูุจ - ูู ุจุชูููุฐู ูุจุงุดุฑุฉ. ูููุฏ ุนูุฏูุง ูุง ูููู ุงููุต ุงูุจุฑูุฌู ูุตูุง ุจุฑูุฌููุง Python.
* `--debug` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุทุจุงุนุฉ ููุฏุณ ุชุชุจุน torch.distributed ุนูุฏ ุญุฏูุซ ุฎุทุฃ ูุง.
* `-q`ุ `--quiet` (`bool`) -- ุฅุฎูุงุก ุฃุฎุทุงุก ุงูุจุฑูุงูุฌ ุงููุฑุนู ูู ููุฏุณ ุชุชุจุน ุงูุฅุทูุงู ูุนุฑุถ ุชุนูุจ ุงูุฃุฎุทุงุก ุฐุงุช ุงูุตูุฉ ููุท. (ููุทุจู ููุท ุนูู DeepSpeed ูุชููููุงุช ุงูุนูููุฉ ุงููุงุญุฏุฉ).

ุจููุฉ ูุฐู ุงูุญุฌุฌ ูุชู ุชูููููุง ูู ุฎูุงู `accelerate config` ููุชู ูุฑุงุกุชูุง ูู ููู `--config_file` (ุฃู ุงูุชูููู ุงูุงูุชุฑุงุถู) ูููููุง. ูููู ุฃูุถูุง ุชูุฑูุฑูุง ูุฏูููุง.

**ุญุฌุฌ ุงุฎุชูุงุฑ ุงูุฃุฌูุฒุฉ**:
* `--cpu` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุฌุจุงุฑ ุงูุชุฏุฑูุจ ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุฃู ูุง.
* `--multi_gpu` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุทูุงู ุชุฏุฑูุจ GPU ุงูููุฒุน ุฃู ูุง.
* `--tpu` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุทูุงู ุชุฏุฑูุจ TPU ุฃู ูุง.
* `--ipex` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุฅุทูุงู ุชุฏุฑูุจ Intel Pytorch Extension (IPEX) ุฃู ูุง.

**ุญุฌุฌ ุงุฎุชูุงุฑ ุงูููุงุฑุฏ**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ูุถุจุท ููููุฉ ุงุณุชุฎุฏุงู ุงูุฃุฌูุฒุฉ ุงููุชุงุญุฉ
* `--mixed_precision {no,fp16,bf16}` (`str`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู ุงูุชุฏุฑูุจ ุนูู ุงูุฏูุฉ ุงููุฎุชูุทุฉ ุฃู ูุง. ุงุฎุชุฑ ุจูู FP16 ูBF16 (bfloat16) ููุชุฏุฑูุจ. ูุฏุนู ุงูุชุฏุฑูุจ BF16 ููุท ูุนุงูุฌุงุช Nvidia Ampere GPUs ูุฅุตุฏุงุฑ PyTorch 1.10 ุฃู ุฃุญุฏุซ.
* `--num_processes NUM_PROCESSES` (`int`) -- ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุนูููุงุช ุงูุชู ุณูุชู ุฅุทูุงููุง ุจุดูู ูุชูุงุฒู.
* `--num_machines NUM_MACHINES` (`int`) -- ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุขูุงุช ุงููุณุชุฎุฏูุฉ ูู ูุฐุง ุงูุชุฏุฑูุจ.
* `--num_cpu_threads_per_process NUM_CPU_THREADS_PER_PROCESS` (`int`) -- ุนุฏุฏ ุฎููุท ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููู ุนูููุฉ. ูููู ุถุจุทู ููุญุตูู ุนูู ุงูุฃุฏุงุก ุงูุฃูุซู.

**ุญุฌุฌ ูููุฐุฌ ุงูุชุฏุฑูุจ**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ูุงุฎุชูุงุฑ ูููุฐุฌ ุงูุชุฏุฑูุจ ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู.
* `--use_deepspeed` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู DeepSpeed ููุชุฏุฑูุจ ุฃู ูุง.
* `--use_fsdp` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู FullyShardedDataParallel ููุชุฏุฑูุจ ุฃู ูุง.
* `--use_megatron_lm` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู Megatron-LM ููุชุฏุฑูุจ ุฃู ูุง.
* `--use_xpu` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงุณุชุฎุฏุงู IPEX plugin ูุชุณุฑูุน ุงูุชุฏุฑูุจ ุนูู XPU ุนูู ูุฌู ุงูุชุญุฏูุฏ.

**ุญุฌุฌ GPU ุงูููุฒุน**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏูุง ูุชู ุชูุฑูุฑ `multi_gpu` ุฃู ูุชู ุชูููู ุงูุชุฏุฑูุจ ูุชุนุฏุฏ GPUs ูู ุฎูุงู `accelerate config`:
* `--gpu_ids` (`str`) -- ุฃู GPUs (ุนู ุทุฑูู ุงููุนุฑู) ูุฌุจ ุงุณุชุฎุฏุงููุง ููุชุฏุฑูุจ ุนูู ูุฐู ุงูุขูุฉ ููุงุฆูุฉ ููุตููุฉ ุจููุงุตู
* `--same_network` (`bool`) -- ูุง ุฅุฐุง ูุงูุช ุฌููุน ุงูุขูุงุช ุงููุณุชุฎุฏูุฉ ููุชุฏุฑูุจ ูุชุนุฏุฏ ุงูุนูุฏ ููุฌูุฏุฉ ุนูู ููุณ ุงูุดุจูุฉ ุงููุญููุฉ.
* `--machine_rank MACHINE_RANK` (`int`) -- ุชุฑุชูุจ ุงูุขูุฉ ุงูุชู ุชู ุฅุทูุงู ูุฐุง ุงููุต ุงูุจุฑูุฌู ุนูููุง.
* `--main_process_ip MAIN_PROCESS_IP` (`str`) -- ุนููุงู IP ูุขูุฉ ุงูุชุฑุชูุจ 0.
* `--main_process_port MAIN_PROCESS_PORT` (`int`) -- ุงููููุฐ ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู ููุชูุงุตู ูุน ุขูุฉ ุงูุชุฑุชูุจ 0.
* `--rdzv_backend` (`str`) -- ุทุฑููุฉ ุงูุงูุชูุงุก ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุงุ ูุซู "static" ุฃู "c10d"
* `--rdzv_conf` (`str`) -- ุชูููู ุงูุงูุชูุงุก ุงูุฅุถุงูู (<key1>=<value1>,<key2>=<value2>,...).
* `--max_restarts` (`int`) -- ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุนูููุงุช ุฅุนุงุฏุฉ ุชุดุบูู ูุฌููุนุฉ ุงูุนูุงู ูุจู ุงููุดู.
* `--monitor_interval` (`float`) -- ุงููุงุตู ุงูุฒูููุ ุจุงูุซูุงููุ ููุฑุงูุจุฉ ุญุงูุฉ ุงูุนูุงู.

**ุญุฌุฌ TPU**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏูุง ูุชู ุชูุฑูุฑ `tpu` ุฃู ูุชู ุชูููู ุชุฏุฑูุจ TPU ูู ุฎูุงู `accelerate config`:
* `--main_training_function MAIN_TRAINING_FUNCTION` (`str`) -- ุงุณู ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุณูุชู ุชูููุฐูุง ูู ูุตู ุงูุจุฑูุฌู.
* `--downcast_bf16` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชูุ ุนูุฏ ุงุณุชุฎุฏุงู ุงูุฏูุฉ bf16 ุนูู ูุญุฏุงุช TPUุ ูุตุจ ูู ูู ุงูููุงุชุฑ ูุงูุชูุชุฑุงุช ุงููุฒุฏูุฌุฉ ุฅูู bfloat16 ุฃู ุฅุฐุง ูุงูุช ุงูุชูุชุฑุงุช ุงููุฒุฏูุฌุฉ ุชุธู ููุง ูู float32.

**ุญุฌุฌ DeepSpeed**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏูุง ูุชู ุชูุฑูุฑ `use_deepspeed` ุฃู ูุชู ุชูููู DeepSpeed ูู ุฎูุงู `accelerate config`:
* `--deepspeed_config_file` (`str`) -- ููู ุชูููู DeepSpeed.
* `--zero_stage` (`int`) -- ูุฑุญูุฉ DeepSpeed's ZeRO optimization.
* `--offload_optimizer_device` (`str`) -- ููุฑุฑ ุฃูู (none|cpu|nvme) ูุชูุฑูุบ ุญุงูุงุช ุงููุญุณู.
* `--offload_param_device` (`str`) -- ููุฑุฑ ุฃูู (none|cpu|nvme) ูุชูุฑูุบ ุงููุนููุงุช.
* `--gradient_accumulation_steps` (`int`) -- ุนุฏุฏ ุฎุทูุงุช ุชุฌููุน ุงูุชุฏุฑุฌุงุช ุงููุณุชุฎุฏูุฉ ูู ูุตู ุงูุจุฑูุฌู ููุชุฏุฑูุจ.
* `--gradient_clipping` (`float`) -- ูููุฉ ูุต ุงูุชุฏุฑุฌ ุงููุณุชุฎุฏูุฉ ูู ูุตู ุงูุจุฑูุฌู ููุชุฏุฑูุจ.
* `--zero3_init_flag` (`str`) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุชูููู `deepspeed.zero.Init` ูุจูุงุก ููุงุฐุฌ ุถุฎูุฉ. ููุทุจู ููุท ูุน DeepSpeed ZeRO Stage-3.
* `--zero3_save_16bit_model` (`str`) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุญูุธ ุฃูุฒุงู ุงููููุฐุฌ 16 ุจุช ุนูุฏ ุงุณุชุฎุฏุงู ZeRO Stage-3. ููุทุจู ููุท ูุน DeepSpeed ZeRO Stage-3.
* `--deepspeed_hostfile` (`str`) -- ููู ุงููุถูู DeepSpeed ูุชูููู ููุงุฑุฏ ุงูุญูุณุจุฉ ูุชุนุฏุฏุฉ ุงูุนูุฏ.
* `--deepspeed_exclusion_filter` (`str`) -- ุณูุณูุฉ ุนุงูู ุชุตููุฉ ุงูุงุณุชุจุนุงุฏ DeepSpeed ุนูุฏ ุงุณุชุฎุฏุงู ุฅุนุฏุงุฏ ูุชุนุฏุฏ ุงูุนูุฏ.
* `--deepspeed_inclusion_filter` (`str`) -- ุณูุณูุฉ ุนุงูู ุชุตููุฉ ุงูุฅุฏุฑุงุฌ DeepSpeed ุนูุฏ ุงุณุชุฎุฏุงู ุฅุนุฏุงุฏ ูุชุนุฏุฏ ุงูุนูุฏ.
* `--deepspeed_multinode_launcher` (`str`) -- ุจุฑูุงูุฌ ุงูุฅุทูุงู ูุชุนุฏุฏ ุงูุนูุฏ DeepSpeed ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู.

**ุญุฌุฌ Fully Sharded Data Parallelism**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏูุง ูุชู ุชูุฑูุฑ `use_fsdp` ุฃู ูุชู ุชูููู Fully Sharded Data Parallelism ูู ุฎูุงู `accelerate config`:
* `--fsdp_offload_params` (`str`) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุชูุฑูุบ ุงููุนููุงุช ูุงูุชุฏุฑุฌุงุช ุฅูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ.
* `--fsdp_min_num_params` (`int`) -- ุงูุญุฏ ุงูุฃุฏูู ูุนุฏุฏ ุงููุนููุงุช ูุงูุชูุงู ุงูุณูุงุฑุงุช ุงูุงูุชุฑุงุถู ูู FSDP.
* `--fsdp_sharding_strategy` (`int`) -- ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุฌุฒุฆุฉ FSDP.
* `--fsdp_auto_wrap_policy` (`str`) -- ุณูุงุณุฉ ุงูุงูุชูุงู ุงูุชููุงุฆู FSDP.
* `--fsdp_transformer_layer_cls_to_wrap` (`str`) -- ุงุณู ูุฆุฉ ุทุจูุฉ ุงููุญูู (ุญุณุงุณ ูุญุงูุฉ ุงูุฃุญุฑู) ูุชุบููููุ ุนูู ุณุจูู ุงููุซุงูุ `BertLayer`ุ `GPTJBlock`ุ `T5Block` ...
* `--fsdp_backward_prefetch_policy` (`str`) -- ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน ุงููุณุจู ููุฎูู ูู FSDP.
* `--fsdp_state_dict_type` (`str`) -- ููุน ุงููุงููุณ ุงูุญุงูุฉ FSDP.
* `--fsdp_forward_prefetch` (`str`) -- ุงูุงุณุชุฑุฌุงุน ุงููุณุจู ููุฃูุงู FSDP.
* `--fsdp_use_orig_params` (`str`) -- ุฅุฐุง ูุงู ุตุญูุญูุงุ ููุณูุญ ุฐูู ุจุฎูุท `requires_grad` ุบูุฑ ุงูููุญุฏ ูู ูุญุฏุฉ FSDP.
* `--fsdp_cpu_ram_efficient_loading` (`str`) - ุฅุฐุง ูุงู ุตุญูุญูุงุ ูุฅู ุงูุนูููุฉ ุงูุฃููู ููุท ุชููู ุจุชุญููู ููุทุฉ ุงูุชุญูู ูููููุฐุฌ ุงููุณุจู ุงูุชุฏุฑูุจ ูู ุญูู ุฃู ุฌููุน ุงูุนูููุงุช ุงูุฃุฎุฑู ููุง ุฃูุฒุงู ูุงุฑุบุฉ. ุนูุฏ ุงุณุชุฎุฏุงู ูุฐุงุ ูุฌุจ ุฃู ูููู `--fsdp_sync_module_states` ุตุญูุญูุง.
* `--fsdp_sync_module_states` (`str`) - ุฅุฐุง ูุงู ุตุญูุญูุงุ ูุฅู ูู ูุญุฏุฉ FSDP ูููููุฉ ุจุดูู ูุฑุฏู ุณุชููู ุจุจุซ ูุนููุงุช ุงููุญุฏุฉ ูู ุงูุชุฑุชูุจ 0.

**ุญุฌุฌ Megatron-LM**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏูุง ูุชู ุชูุฑูุฑ `use_megatron_lm` ุฃู ูุชู ุชูููู Megatron-LM ูู ุฎูุงู `accelerate config`:
* `--megatron_lm_tp_degree` (``) -- ุฏุฑุฌุฉ ููุงุฒุงุฉ ุงูุชูุชุฑ ูู Megatron-LM.
* `--megatron_lm_pp_degree` (``) -- ุฏุฑุฌุฉ ููุงุฒุงุฉ ุงูุฃูุงุจูุจ ูู Megatron-LM.
* `--megatron_lm_num_micro_batches` (``) -- ุนุฏุฏ ุงูุฏูุนุงุช ุงูุตุบูุฑุฉ ูู Megatron-LM ุนูุฏูุง ุชููู ุฏุฑุฌุฉ PP > 1.
* `--megatron_lm_sequence_parallelism` (``) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุชูููู ููุงุฒุงุฉ ุงูุชุณูุณู ุนูุฏูุง ุชููู ุฏุฑุฌุฉ TP > 1.
* `--megatron_lm_recompute_activations` (``) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุชูููู ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุชูุดูุท ุงูุงูุชูุงุฆู.
* `--megatron_lm_use_distributed_optimizer` (``) -- ููุฑุฑ ูุง ุฅุฐุง ูุงู ุณูุชู (true|false) ุงุณุชุฎุฏุงู ุงููุญุณู ุงูููุฒุน ุงูุฐู ูููู ุจุชุฌุฒุฆุฉ ุญุงูุงุช ุงููุญุณู ูุงูุชุฏุฑุฌุงุช ุนุจุฑ ุฑุชุจ DP.
* `--megatron_lm_gradient_clipping` (``) -- ูููุฉ ูุต ุงูุชุฏุฑุฌ Megatron-LM ุจูุงุกู ุนูู L2 Norm ุงูุนุงููู (0 ูุชุนุทูู).

**ุญุฌุฌ AWS SageMaker**:
ุงูุญุฌุฌ ุงูุชุงููุฉ ูููุฏุฉ ููุท ุนูุฏ ุงูุชุฏุฑูุจ ูู SageMaker
* `--aws_access_key_id AWS_ACCESS_KEY_ID` (`str`) -- AWS_ACCESS_KEY_ID ุงููุณุชุฎุฏู ูุฅุทูุงู ูููุฉ ุงูุชุฏุฑูุจ Amazon SageMaker
* `--aws_secret_access_key AWS_SECRET_ACCESS_KEY` (`str`) -- AWS_SECRET_ACCESS_KEY ุงููุณุชุฎุฏู ูุฅุทูุงู ูููุฉ ุงูุชุฏุฑูุจ Amazon SageMaker
## accelerate estimate-memory

**ุงูุฃูุฑ**:

`accelerate estimate-memory` ุฃู `accelerate-estimate-memory` ุฃู `python -m accelerate.commands.estimate`

ููุฏุฑ ุฅุฌูุงูู ุงูุฐุงูุฑุฉ VRAM ุงูุชู ูุญุชุงุฌูุง ูููุฐุฌ ูุนูู ูุณุชุถุงู ุนูู Hub ููุชู ุชุญูููู ูุน ุชูุฏูุฑ ููุชุฏุฑูุจ. ูุชุทูุจ ุชุซุจูุช `huggingface_hub`.

<Tip>

ุนูุฏ ุฅุฌุฑุงุก ุงูุงุณุชุฏูุงูุ ุนุงุฏุฉู ูุง ุชุถูู โค20% ุฅูู ุงููุชูุฌุฉ ููุฎุตุต ุนุงู [ููุง ูู ููุถุญ ููุง](https://blog.eleuther.ai/transformer-math/). ุณููุฏู ุชูุฏูุฑุงุช ุฃูุซุฑ ุดูููุงู ูู ุงููุณุชูุจู ูุงูุชู ุณุชุฏุฑุฌ ุชููุงุฆููุง ูู ุงูุญุณุงุจ.

</Tip>

**ุงูุงุณุชุฎุฏุงู**:

```bash
accelerate estimate-memory {MODEL_NAME} --library_name {LIBRARY_NAME} --dtypes {dtype_1} {dtype_2} ...
```

**ุงูุญุฌุฌ ุงููุทููุจุฉ**:

* `MODEL_NAME` (`str`)-- ุงุณู ุงููููุฐุฌ ุนูู Hugging Face Hub

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:

* `--library_name {timm,transformers}` (`str`) -- ููุชุจุฉ ุงูุชูุงูู ูุน ุงููููุฐุฌุ ูุซู `transformers`ุ ูุทููุจุฉ ููุท ุฅุฐุง ูุงูุช ูุฐู ุงููุนูููุงุช ุบูุฑ ูุฎุฒูุฉ ุนูู Hub
* `--dtypes {float32,float16,int8,int4}` (`[{float32,float16,int8,int4} ...]`) -- ุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูููููุฐุฌุ ูุฌุจ ุฃู ุชููู ูุงุญุฏุฉ (ุฃู ุฃูุซุฑ) ูู `float32` ุฃู `float16` ุฃู `int8` ุฃู `int4`
* `--trust_remote_code` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุงูุณูุงุญ ุจููุงุฐุฌ ูุฎุตุตุฉ ูุญุฏุฏุฉ ุนูู Hub ูู ูููุงุช ุงูููุฐุฌุฉ ุงูุฎุงุตุฉ ุจูุง. ูุฌุจ ุชูุฑูุฑ ูุฐุง ุงูุฎูุงุฑ ููุท ูููุณุชูุฏุนุงุช ุงูุชู ุชุซู ุจูุง ูุงูุชู ูุฑุฃุช ูููุง ุงูููุฏุ ุญูุซ ุณูุชู ุชูููุฐ ุงูููุฏ ุงูููุฌูุฏ ุนูู Hub ุนูู ุฌูุงุฒู ุงููุญูู.

## accelerate tpu-config

`accelerate tpu-config`

**ุงูุงุณุชุฎุฏุงู**:

```bash
accelerate tpu-config [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:

* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ

**ุญุฌุฌ ุงูุชูููู**:

ุงูุญุฌุฌ ุงูุชู ูููู ุชูููููุง ูู ุฎูุงู `accelerate config`.

* `--config_file` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู ูู accelerate.
* `--tpu_name` (`str`) -- ุงุณู TPU ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู. ุฅุฐุง ูู ูุชู ุชุญุฏูุฏูุ ูุณูุชู ุงุณุชุฎุฏุงู TPU ุงููุญุฏุฏ ูู ููู ุงูุชูููู.
* `--tpu_zone` (`str`) -- ููุทูุฉ TPU ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง. ุฅุฐุง ูู ูุชู ุชุญุฏูุฏูุงุ ูุณูุชู ุงุณุชุฎุฏุงู ุงูููุทูุฉ ุงููุญุฏุฏุฉ ูู ููู ุงูุชูููู.

**ุญุฌุฌ TPU**:

ุงูุญุฌุฌ ุงูุฎุงุตุฉ ุจุงูุฎูุงุฑุงุช ุงูุชู ูุชู ุชุดุบูููุง ุฏุงุฎู TPU.

* `--command_file` (`str`) -- ูุณุงุฑ ุงูููู ุงูุฐู ูุญุชูู ุนูู ุงูุฃูุงูุฑ ุงูุชู ุณูุชู ุชุดุบูููุง ุนูู pod ุนูุฏ ุจุฏุก ุงูุชุดุบูู.
* `--command` (`str`) -- ุฃูุฑ ูุชุดุบููู ุนูู pod. ูููู ุชูุฑูุฑู ุนุฏุฉ ูุฑุงุช.
* `--install_accelerate` (`bool`) -- ูุง ุฅุฐุง ูุงู ุณูุชู ุชุซุจูุช accelerate ุนูู pod. ุงูุงูุชุฑุงุถู ูู False.
* `--accelerate_version` (`str`) -- ุฅุตุฏุงุฑ accelerate ุงูุฐู ุณูุชู ุชุซุจูุชู ุนูู pod. ุฅุฐุง ูู ูุชู ุชุญุฏูุฏูุ ูุณูุชู ุงุณุชุฎุฏุงู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Pypi. ุญุฏุฏ "dev" ูุชุซุจูุชู ูู GitHub.
* `--debug` (`bool`) -- ุฅุฐุง ุชู ุชุนููููุ ูุณูุชู ุทุจุงุนุฉ ุงูุฃูุฑ ุงูุฐู ุณูุชู ุชุดุบููู ุจุฏูุงู ูู ุชุดุบููู.

## accelerate test

`accelerate test` ุฃู `accelerate-test`

ูููู ุจุชุดุบูู `accelerate/test_utils/test_script.py` ููุชุญูู ูู ุฃู ๐ค Accelerate ูุฏ ุชู ุชููููู ุจุดูู ุตุญูุญ ุนูู ูุธุงูู ูุฃูู ูุนูู.

**ุงูุงุณุชุฎุฏุงู**:

```bash
accelerate test [arguments]
```

**ุงูุญุฌุฌ ุงูุงุฎุชูุงุฑูุฉ**:

* `--config_file CONFIG_FILE` (`str`) -- ูุณุงุฑ ููู ุงูุชูููู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู. ุณูุชู ุชุนูููู ุจุดูู ุงูุชุฑุงุถู ุฅูู ููู ุจุงุณู default_config.yaml ูู ูููุน ุงูุชุฎุฒูู ุงููุคูุชุ ููู ูุญุชูู
ูุชุบูุฑ ุงูุจูุฆุฉ `HF_HOME` ููุญู ุจู 'accelerate'ุ ุฃู ุฅุฐุง ูู ููู ูุฏูู ูุซู ูุฐุง ุงููุชุบูุฑ ุงูุจูุฆูุ ุฏููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุงูุชุฑุงุถู
(`~/.cache` ุฃู ูุญุชูู `XDG_CACHE_HOME`) ููุญู ุจู `huggingface`.
* `-h`ุ `--help` (`bool`) -- ุนุฑุถ ุฑุณุงูุฉ ูุณุงุนุฏุฉ ูุงูุฎุฑูุฌ