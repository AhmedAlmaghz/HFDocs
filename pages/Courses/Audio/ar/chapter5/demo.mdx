# ุฅูุดุงุก ุนุฑุถ ุชูุถูุญู ุจุงุณุชุฎุฏุงู Gradio

ุงูุขู ุจุนุฏ ุฃู ูููุง ุจุถุจุท ูููุฐุฌ Whisper ููุชุนุฑู ุนูู ุงูููุงู ุจุงููุบุฉ ุงูุฏูููููุฉุ ุฏุนููุง ููุชูู ุฅูู ุจูุงุก ุนุฑุถ ุชูุถูุญู ุจุงุณุชุฎุฏุงู [Gradio](https://gradio.app) ูุฅุธูุงุฑ ูุฏุฑุงุช ุงููููุฐุฌ ูููุฌุชูุน!

ุฃูู ุดูุก ูุฌุจ ูุนูู ูู ุชุญููู ููุทุฉ ุงูุชุญูู ุงููุถุจูุทุฉ ุจุงุณุชุฎุฏุงู ูุฆุฉ `pipeline()` - ูุฐุง ุฃูุฑ ูุฃููู ุงูุขู ูู ุงููุณู ุงูุฎุงุต [ุจุงูููุงุฐุฌ ุงูููุฏุฑุจุฉ ูุณุจููุง](asr_models). ููููู ุชุบููุฑ `model_id` ุฅูู ูุณุงุญุฉ ุนูู ูููุฐุฌู ุงููุถุจูุท ุนูู Hugging Face Hubุ ุฃู ุฃุญุฏ ููุงุฐุฌ Whisper [ุงูููุฏุฑุจุฉ ูุณุจููุง](https://huggingface.co/models?sort=downloads&search=openai%2Fwhisper-) ูุฃุฏุงุก ุงูุชุนุฑู ุนูู ุงูููุงู ุจุฏูู ุงูุฅุดุฑุงู:

```python
from transformers import pipeline

model_id = "sanchit-gandhi/whisper-small-dv"  # ูู ุจุชุญุฏูุซู ูุน ูุนุฑู ูููุฐุฌู
pipe = pipeline("automatic-speech-recognition", model=model_id)
```

ุซุงูููุงุ ุณูููู ุจุชุนุฑูู ุฏุงูุฉ ุชุฃุฎุฐ ูุณุงุฑ ููู ุตูุชู ููุฏุฎูุงุช ูุชููู ุจุชูุฑูุฑู ุนุจุฑ ุงูุฃูุงุจูุจ. ููุงุ ุชููู ุงูุฃูุงุจูุจ ุชููุงุฆููุง ุจุชุญููู ููู ุงูุตูุชุ ูุฅุนุงุฏุฉ ุฃุฎุฐ ุงูุนููุงุช ุฅูู ูุนุฏู ุงูุนููุงุช ุงูุตุญูุญุ ูุชุดุบูู ุงูุงุณุชุฏูุงู ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ. ุจุนุฏ ุฐููุ ูููููุง ุจุจุณุงุทุฉ ุฅุนุงุฏุฉ ุงููุต ุงูููุณูุฎ ููุงุชุฌ ููุฏุงูุฉ. ูุถูุงู ูุฏุฑุฉ ุงููููุฐุฌ ุนูู ุงูุชุนุงูู ูุน ูููุงุช ุตูุชูุฉ ุฐุงุช ุทูู ุนุดูุงุฆูุ ุณูููู ุจุชูููู *ุงูุชูุณูู* ููุง ูู ููุถุญ ูู ุงููุณู ุงูุฎุงุต [ุจุงูููุงุฐุฌ ุงูููุฏุฑุจุฉ ูุณุจููุง](asr_models):

```python
def transcribe_speech(filepath):
    output = pipe(
        filepath,
        max_new_tokens=256,
        generate_kwargs={
            "task": "transcribe",
            "language": "sinhalese",
        },  # ูู ุจุงูุชุญุฏูุซ ูุน ุงููุบุฉ ุงูุชู ุถุจุทุช ุนูููุง ุงููููุฐุฌ
        chunk_length_s=30,
        batch_size=8,
    )
    return output["text"]
```

ุณูุณุชุฎุฏู ููุฒุฉ [blocks](https://gradio.app/docs/#blocks) ูู Gradio ูุชุดุบูู ุนูุงูุชู ุชุจููุจ ูู ุงูุนุฑุถ ุงูุชูุถูุญู: ูุงุญุฏุฉ ููุณุฎ ุงููุต ูู ุงููููุฑููููุ ูุงูุฃุฎุฑู ูุชุญููู ุงููููุงุช.

```python
import gradio as gr

demo = gr.Blocks()

mic_transcribe = gr.Interface(
    fn=transcribe_speech,
    inputs=gr.Audio(sources="microphone", type="filepath"),
    outputs=gr.outputs.Textbox(),
)

file_transcribe = gr.Interface(
    fn=transcribe_speech,
    inputs=gr.Audio(sources="upload", type="filepath"),
    outputs=gr.outputs.Textbox(),
)
```

ุฃุฎูุฑูุงุ ูููู ุจุชุดุบูู ุงูุนุฑุถ ุงูุชูุถูุญู ูู Gradio ุจุงุณุชุฎุฏุงู ูุชูุชู ุงูุชุจููุจ ุงููุชูู ูููุง ุจุชุนุฑููููุง ููุชู:

```python
with demo:
    gr.TabbedInterface(
        [mic_transcribe, file_transcribe],
        ["Transcribe Microphone", "Transcribe Audio File"],
    )

demo.launch(debug=True)
```

ุณูุคุฏู ูุฐุง ุฅูู ุชุดุบูู ุนุฑุถ ุชูุถูุญู ูู Gradio ูุดุงุจู ููุนุฑุถ ุงูุชูุถูุญู ุงูุฐู ูุนูู ุนูู Hugging Face Space:

<iframe src="https://course-demos-whisper-small.hf.space" frameBorder="0" height="450" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุถุงูุฉ ุนุฑุถู ุงูุชูุถูุญู ุนูู Hugging Face Hubุ ูููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุณุงุญุฉ ููุงูุจ ููููุฐุฌู ุงููุถุจูุท.

ุงููุฑ ุนูู ุงูุฑุงุจุท ููุณุฎ ุงููุงูุจ ุงูุชูุถูุญู ุฅูู ุญุณุงุจู: https://huggingface.co/spaces/course-demos/whisper-small?duplicate=true

ููุตู ุจุชุณููุฉ ูุณุงุญุชู ุจุงุณู ูุดุงุจู ููููุฐุฌู ุงููุถุจูุท (ูุซู whisper-small-dv-demo) ูุฌุนููุง ูุฑุฆูุฉ "ุนุงูุฉ".

ุจูุฌุฑุฏ ูุณุฎ ุงููุณุงุญุฉ ุฅูู ุญุณุงุจูุ ุงููุฑ ููู "Files and versions" -> "app.py" -> "edit". ุซู ูู ุจุชุบููุฑ ูุนุฑู ุงููููุฐุฌ ุฅูู ูููุฐุฌู ุงููุถุจูุท (ุงูุณุทุฑ 6). ูู ุจุงูุชูุฑูุฑ ูุฃุณูู ุงูุตูุญุฉ ูุงููุฑ ููู "Commit changes to main".

ุณูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุนุฑุถ ุงูุชูุถูุญูุ ููุฐู ุงููุฑุฉ ุจุงุณุชุฎุฏุงู ูููุฐุฌู ุงููุถุจูุท. ููููู ูุดุงุฑูุฉ ูุฐุง ุงูุนุฑุถ ุงูุชูุถูุญู ูุน ุฃุตุฏูุงุฆู ูุนุงุฆูุชู ุญุชู ูุชููููุง ูู ุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงูุฐู ุฏุฑุจุชู!

ุดุงูุฏ ุงูููุฏูู ุงูุชุนูููู ุงูุฎุงุต ุจูุง ููุญุตูู ุนูู ููู ุฃูุถู ูููููุฉ ูุณุฎ ุงููุณุงุญุฉ ๐๏ธ [ููุฏูู YouTube](https://www.youtube.com/watch?v=VQYuvl6-9VE)

ูุชุทูุน ุฅูู ุฑุคูุฉ ุนุฑูุถู ุงูุชูุถูุญูุฉ ุนูู Hub!