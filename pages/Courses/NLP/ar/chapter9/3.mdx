# ููู ูุฆุฉ ุงููุงุฌูุฉ

ูู ูุฐุง ุงููุณูุ ุณูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ูุฆุฉ "ุงููุงุฌูุฉ" (Interface)ุ ูุณูุณุชูุนุจ ุงููุนููุงุช ุงูุฑุฆูุณูุฉ ุงููุณุชุฎุฏูุฉ ูุฅูุดุงุก ูุงุญุฏุฉ.

## ููููุฉ ุฅูุดุงุก ูุงุฌูุฉ

ุณุชูุงุญุธ ุฃู ููุฆุฉ "ุงููุงุฌูุฉ" (Interface) ุซูุงุซุฉ ูุนููุงุช ูุทููุจุฉ:

`Interface(fn, inputs, outputs, ...)`

ูุฐู ุงููุนููุงุช ูู:

- `fn`: ุฏุงูุฉ ุงูุชูุจุค ุงูุชู ุชุบูููุง ูุงุฌูุฉ Gradio. ูููู ููุฐู ุงูุฏุงูุฉ ุฃู ุชุฃุฎุฐ ูุนููุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑุ ูุฃู ุชุนูุฏ ูููุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ.

- `inputs`: ููุน (ุฃููุงุน) ูููู ุงูุฅุฏุฎุงู. ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงูููููุงุช ุงูุฌุงูุฒุฉ ูุซู "image" ุฃู "mic".

- `outputs`: ููุน (ุฃููุงุน) ูููู ุงูุฅุฎุฑุงุฌ. ูุฑุฉ ุฃุฎุฑูุ ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงูููููุงุช ุงูุฌุงูุฒุฉ ูุซู "image" ุฃู "label".

ููุงุทูุงุน ุนูู ุงููุงุฆูุฉ ุงููุงููุฉ ููููููุงุชุ ุฑุงุฌุน [ูุซุงุฆู Gradio](https://gradio.app/docs). ูููู ุชุฎุตูุต ูู ูููู ุฌุงูุฒ ุนู ุทุฑูู ุฅูุดุงุก ูุซูู ูููุฆุฉ ุงูููุงุจูุฉ ูููููู.

ุนูู ุณุจูู ุงููุซุงูุ ููุง ุฑุฃููุง ูู [ุงููุณู ุงูุณุงุจู](/course/chapter9/2)ุ ุจุฏูุงู ูู ุชูุฑูุฑ "textbox" ุฅูู ูุนููุฉ "inputs"ุ ููููู ุชูุฑูุฑ ูููู "Textbox(lines=7, label="Prompt")" ูุฅูุดุงุก ูุฑุจุน ูุตู ุจู 7 ุฃุณุทุฑ ูููุตู.

ููููู ูุธุฑุฉ ุนูู ูุซุงู ุขุฎุฑุ ูููู ูุฐู ุงููุฑุฉ ูุน ูููู "Audio".

## ูุซุงู ุจุณูุท ูุน ุงูุตูุช

ููุง ุฐูุฑูุง ุณุงุจููุงุ ูููุฑ Gradio ุงูุนุฏูุฏ ูู ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ุงููุฎุชููุฉ. ูุฐูู ุฏุนููุง ูุจูู ูุงุฌูุฉ "Interface" ุชุนูู ูุน ุงูุตูุช.

ูู ูุฐุง ุงููุซุงูุ ุณูุจูู ุฏุงูุฉ ุชุญููู ุงูุตูุช ุฅูู ุตูุช ุชุฃุฎุฐ ููู ุตูุชู ูุชุนูุณู ุจุจุณุงุทุฉ.

ุณูุณุชุฎุฏู ูููุฏุฎู ูููู "Audio". ุนูุฏ ุงุณุชุฎุฏุงู ูููู "Audio"ุ ููููู ุชุญุฏูุฏ ูุง ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ูููู ูุตุฏุฑ ุงูุตูุช ููููุง ูููู ุงููุณุชุฎุฏู ุจุชุญูููู ุฃู ูููุฑูููููุง ูุณุฌู ุงููุณุชุฎุฏู ุตูุชู ูู ุฎูุงูู. ูู ูุฐู ุงูุญุงูุฉุ ุฏุนููุง ูุฌุนููุง "microphone". ููุฌุฑุฏ ุงููุชุนุฉุ ุณูุถูู ููุตููุง ุฅูู "Audio" ุงูุฎุงุต ุจูุง ูููู "Speak here...".

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ููุฏ ุชููู ุงูุตูุช ูุตููู numpy ุญุชู ูุชููู ูู "ุนูุณู" ุจุณูููุฉ. ูุฐูู ุณูุญุฏุฏ "ุงูููุน" ููููู "numpy"ุ ูุงูุฐู ููุฑุฑ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ูุฒูุฌ ูุฑุชุจ (ูุนุฏู ุงูุนููุฉุ ุงูุจูุงูุงุช) ุฅูู ุฏุงูุชูุง.

ููุง ุณูุณุชุฎุฏู ูููู ุงูุฅุฎุฑุงุฌ "Audio" ุงูุฐู ููููู ุชููุงุฆููุง ุชูุฏูู ุฒูุฌ ูุฑุชุจ ุจูุนุฏู ุนููุฉ ูุตููู numpy ูู ุงูุจูุงูุงุช ูููู ุตูุชู ูุงุจู ููุชุดุบูู. ูู ูุฐู ุงูุญุงูุฉุ ูุง ูุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก ุฃู ุชุฎุตูุตุ ูุฐุง ุณูุณุชุฎุฏู ุงูุงุฎุชุตุงุฑ ุงููุตู "audio".

```py
import numpy as np
import gradio as gr


def reverse_audio(audio):
    sr, data = audio
    reversed_audio = (sr, np.flipud(data))
    return reversed_audio


mic = gr.Audio(source="microphone", type="numpy", label="Speak here...")
gr.Interface(reverse_audio, mic, "audio").launch()
```

ุณููุชุฌ ุงูููุฏ ุฃุนูุงู ูุงุฌูุฉ ูุซู ุชูู ุงูููุฌูุฏุฉ ุฃุฏูุงู (ุฅุฐุง ูู ูุทูุจ ูุชุตูุญู ุฃุฐููุงุช ุงููููุฑููููุ <a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">ุงูุชุญ ุงูุนุฑุถ ุงูุชูุถูุญู ูู ุนูุงูุฉ ุชุจููุจ ูููุตูุฉ</a>.)

<iframe src="https://course-demos-audio-reverse.hf.space" frameBorder="0" height="250" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ุงูุขู ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุชุณุฌูู ุตูุชู ูุงูุงุณุชูุงุน ุฅูู ููุณู ุชุชุญุฏุซ ุจุงูุนูุณ - ูุฎูู ๐ป!

## ุงูุชุนุงูู ูุน ูุฏุฎูุงุช ููุฎุฑุฌุงุช ูุชุนุฏุฏุฉ

ูููุชุฑุถ ุฃู ูุฏููุง ุฏุงูุฉ ุฃูุซุฑ ุชุนููุฏูุงุ ุจูุฏุฎูุงุช ููุฎุฑุฌุงุช ูุชุนุฏุฏุฉ. ูู ุงููุซุงู ุฃุฏูุงูุ ูุฏููุง ุฏุงูุฉ ุชุฃุฎุฐ ููุฑุณ ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ููููุฉ ุดุฑูุท ุงูุชูุฑูุฑุ ูุงูุนุฏุฏุ ูุชุนูุฏ ุนููุฉ ุตูุชูุฉ ููุบูุฉ ููุณูููุฉ.

ุงูู ูุธุฑุฉ ุนูู ููููุฉ ุชูุฑูุฑ ูุงุฆูุฉ ุจููููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌุ ูุงูุธุฑ ุฅุฐุง ููุช ุชุณุชุทูุน ูุชุงุจุนุฉ ูุง ูุญุฏุซ.

ุงูููุชุงุญ ููุง ูู ุฃูู ุนูุฏ ุชูุฑูุฑ:

* ูุงุฆูุฉ ุจููููุงุช ุงูุฅุฏุฎุงูุ ูุชูุงูู ูู ูููู ูุน ูุนููุฉ ุจุงูุชุฑุชูุจ.

* ูุงุฆูุฉ ุจููููุงุช ุงูุฅุฎุฑุงุฌุ ูุชูุงูู ูู ูููู ูุน ูููุฉ ูุฑุชุฌุนุฉ.

ุชูุถุญ ุดูุฑุฉ ุงูููุชุทู ุฃุฏูุงู ููู ุชุชูุงูู ููููุงุช ุงูุฅุฏุฎุงู ุงูุซูุงุซุฉ ูุน ุงูุญุฌุฌ ุงูุซูุงุซุฉ ูุฏุงูุฉ `generate_tone()`:

```py
import numpy as np
import gradio as gr

notes = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"]


def generate_tone(note, octave, duration):
    sr = 48000
    a4_freq, tones_from_a4 = 440, 12 * (octave - 4) + (note - 9)
    frequency = a4_freq * 2 ** (tones_from_a4 / 12)
    duration = int(duration)
    audio = np.linspace(0, duration, duration * sr)
    audio = (20000 * np.sin(audio * (2 * np.pi * frequency))).astype(np.int16)
    return (sr, audio)


gr.Interface(
    generate_tone,
    [
        gr.Dropdown(notes, type="index"),
        gr.Slider(minimum=4, maximum=6, step=1),
        gr.Textbox(type="number", value=1, label="Duration in seconds"),
    ],
    "audio",
).launch()
```

<iframe src="https://course-demos-generate-tone.hf.space" frameBorder="0" height="450" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

### ุทุฑููุฉ `launch()`

ุญุชู ุงูุขูุ ุงุณุชุฎุฏููุง ุทุฑููุฉ `launch()` ูุฅุทูุงู ุงููุงุฌูุฉุ ููููุง ูู ููุงูุด ุญููุง ูุง ุชูุนูู.

ุชููู ุทุฑููุฉ `launch()` ุจุดูู ุงูุชุฑุงุถู ุจุชุดุบูู ุงูุนุฑุถ ุงูุชูุถูุญู ุนูู ุฎุงุฏู ููุจ ูุนูู ูุญูููุง. ุฅุฐุง ููุช ุชุดุบู ุงูููุฏ ุงูุฎุงุต ุจู ูู ุฏูุชุฑ Jupyter ุฃู Colabุ ูุณูููู Gradio ุจุชุถููู ุงูุนุฑุถ ุงูุชูุถูุญู GUI ูู ุงูุฏูุชุฑ ุญุชู ุชุชููู ูู ุงุณุชุฎุฏุงูู ุจุณูููุฉ.

ููููู ุชุฎุตูุต ุณููู `launch()` ูู ุฎูุงู ูุนููุงุช ูุฎุชููุฉ:

- `inline` - ูุง ุฅุฐุง ูุงู ุณูุชู ุนุฑุถ ุงููุงุฌูุฉ ูู ุตูุญุงุช Python.

- `inbrowser` - ูุง ุฅุฐุง ูุงู ุณูุชู ุชุดุบูู ุงููุงุฌูุฉ ุชููุงุฆููุง ูู ุนูุงูุฉ ุชุจููุจ ุฌุฏูุฏุฉ ูู ุงููุชุตูุญ ุงูุงูุชุฑุงุถู.

- `share` - ูุง ุฅุฐุง ูุงู ุณูุชู ุฅูุดุงุก ุฑุงุจุท ูููู ูุดุงุฑูุชู ุจุดูู ุนุงู ูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ูููุงุฌูุฉ. ูุดุจู ุฅูู ุญุฏ ูุง ุฑุงุจุท Google Drive!

ุณูุบุทู ูุนููุฉ `share` ุจูุฒูุฏ ูู ุงูุชูุงุตูู ูู ุงููุณู ุงูุชุงูู!

## โ๏ธ ุฏุนููุง ูุทุจููุง!

ุฏุนููุง ูุจูู ูุงุฌูุฉ ุชุณูุญ ูู ุจุชุฌุฑุจุฉ ูููุฐุฌ **ุงูุชุนุฑู ุนูู ุงูููุงู**. ูุฌุนููุง ูุซูุฑุฉ ููุงูุชูุงูุ ุณููุจู ุฅูุง ุฅุฏุฎุงู ุงููููุฑูููู ุฃู ุงูููู ุงููุญูู.

ููุง ูู ูุนุชุงุฏุ ุณูููู ุจุชุญููู ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงูููุงู ุงูุฎุงุต ุจูุง ุจุงุณุชุฎุฏุงู ุฏุงูุฉ `pipeline()` ูู ๐ค Transformers. ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุฐููุฑ ุณุฑูุนุ ูููููู ุงูุนูุฏุฉ ุฅูู [ูุฐุง ุงููุณู ูู ุงููุตู 1](/course/chapter1/3). ุจุนุฏ ุฐููุ ุณูููุฐ ุฏุงูุฉ `transcribe_audio()` ุงูุชู ุชููู ุจูุนุงูุฌุฉ ุงูุตูุช ูุฅุฑุฌุงุน ุงููุณุฎ ุงููุตู. ุฃุฎูุฑูุงุ ุณูุบูู ูุฐู ุงูุฏุงูุฉ ูู ูุงุฌูุฉ ุจุงุณุชุฎุฏุงู ููููุงุช "Audio" ููุฅุฏุฎุงูุงุช ูุงููุต ููุท ููุฅุฎุฑุงุฌ. ูู ุงููุฌููุ ูุฅู ุงูููุฏ ุงูุฎุงุต ุจูุฐุง ุงูุชุทุจูู ูู ููุง ููู:

```py
from transformers import pipeline
import gradio as gr

model = pipeline("automatic-speech-recognition")


def transcribe_audio(mic=None, file=None):
    if mic is not None:
        audio = mic
    elif file is not None:
        audio = file
    else:
        return "You must either provide a mic recording or a file"
    transcription = model(audio)["text"]
    return transcription


gr.Interface(
    fn=transcribe_audio,
    inputs=[
        gr.Audio(source="microphone", type="filepath", optional=True),
        gr.Audio(source="upload", type="filepath", optional=True),
    ],
    outputs="text",
).launch()
```

ุฅุฐุง ูู ูุทูุจ ูุชุตูุญู ุฃุฐููุงุช ุงููููุฑููููุ <a href="https://huggingface.co/spaces/course-demos/audio-reverse" target="_blank">ุงูุชุญ ุงูุนุฑุถ ุงูุชูุถูุญู ูู ุนูุงูุฉ ุชุจููุจ ูููุตูุฉ</a>.

<iframe src="https://course-demos-asr.hf.space" frameBorder="0" height="550" title="Gradio app" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ูุฐุง ูู ุดูุก! ุงูุขู ููููู ุงุณุชุฎุฏุงู ูุฐู ุงููุงุฌูุฉ ููุณุฎ ุงูุตูุช. ูุงุญุธ ููุง ุฃูู ุนู ุทุฑูู ุชูุฑูุฑ ุงููุนููุฉ `optional` ูู `True`ุ ูุฅููุง ูุณูุญ ูููุณุชุฎุฏู ุจุชูููุฑ ุฅูุง ูููุฑูููู ุฃู ููู ุตูุชู (ุฃู ูุง ุดูุกุ ูููู ุณูุคุฏู ุฐูู ุฅูู ุฅุฑุฌุงุน ุฑุณุงูุฉ ุฎุทุฃ).

ุงุณุชูุฑ ูู ุงูุชุนุฑู ุนูู ููููุฉ ูุดุงุฑูุฉ ูุงุฌูุชู ูุน ุงูุขุฎุฑูู!