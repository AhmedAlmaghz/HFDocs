# ูุดุงุฑูุฉ ุงูููุงุฐุฌ ุงูุฃูููุฉ ูุน ุงูุขุฎุฑูู 

ุงูุขู ุจุนุฏ ุฃู ููุช ุจุจูุงุก ูููุฐุฌ ุฃูููุ ุณุชุฑุบุจ ุนูู ุงูุฃุฑุฌุญ ูู ูุดุงุฑูุชู ูุน ุงูุขุฎุฑูู. ูููู ูุดุงุฑูุฉ ููุงุฐุฌ Gradio ุงูุฃูููุฉ ุจุทุฑููุชูู: ุจุงุณุชุฎุฏุงู ุฑุงุจุท ูุดุงุฑูุฉ ***ูุคูุช*** ุฃู ***ุงุณุชุถุงูุฉ ุฏุงุฆูุฉ ุนูู Spaces***.

ุณูุบุทู ููุง ุงูููุฌูู ุจุดูู ููุฌุฒ. ูููู ูุจู ูุดุงุฑูุฉ ูููุฐุฌู ุงูุฃูููุ ูุฏ ุชุฑุบุจ ูู ุชุญุณููู ๐.

### ุชุญุณูู ูููุฐุฌ Gradio ุงูุฃููู ุงูุฎุงุต ุจู:

![ูุธุฑุฉ ุนุงูุฉ ุนูู ูุงุฌูุฉ Gradio](https://huggingface.co/datasets/huggingface-course/documentation-images/resolve/main/en/chapter9/gradio-demo-overview.png)

ูุฅุถุงูุฉ ูุญุชูู ุฅุถุงูู ุฅูู ูููุฐุฌู ุงูุฃูููุ ุชุฏุนู ูุฆุฉ `Interface` ุจุนุถ ุงููุนููุงุช ุงูุงุฎุชูุงุฑูุฉ:

- `title`: ููููู ุฅุนุทุงุก ุนููุงู ููููุฐุฌู ุงูุฃูููุ ูุงูุฐู ูุธูุฑ _ููู_ ููููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.

- `description`: ููููู ุฅุนุทุงุก ูุตู (ูู ุงููุตุ ุฃู Markdownุ ุฃู HTML) ูููุงุฌูุฉุ ูุงูุฐู ูุธูุฑ ููู ููููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ ูุชุญุช ุงูุนููุงู.

- `article`: ููููู ุฃูุถูุง ูุชุงุจุฉ ููุงู ููุณุน (ูู ุงููุตุ ุฃู Markdownุ ุฃู HTML) ูุดุฑุญ ุงููุงุฌูุฉ. ุฅุฐุง ุชู ุชูููุฑูุ ูุฅูู ูุธูุฑ _ุฃุณูู_ ููููุงุช ุงูุฅุฏุฎุงู ูุงูุฅุฎุฑุงุฌ.

- `theme`: ูุง ูุนุฌุจู ุงูุฃููุงู ุงูุงูุชุฑุงุถูุฉุ ูู ุจุชุนููู ุงูุณูุฉ ูุงุณุชุฎุฏุงู ูุงุญุฏุฉ ูู `default`ุ `huggingface`ุ `grass`ุ `peach`. ููููู ุฃูุถูุง ุฅุถุงูุฉ ุงูุจุงุฏุฆุฉ `dark-`ุ ุนูู ุณุจูู ุงููุซุงู `dark-peach` ูููุถูุน ุบุงูู (ุฃู ููุท `dark` ููููุถูุน ุงูุบุงูู ุงูุงูุชุฑุงุถู).

- `examples`: ูุฌุนู ูููุฐุฌู ุงูุฃููู *ุฃุณูู ูู ุงูุงุณุชุฎุฏุงู*ุ ููููู ุชูููุฑ ุจุนุถ ูุฏุฎูุงุช ุงููุซุงู ููุฏุงูุฉ. ุชุธูุฑ ูุฐู ุงููุฏุฎูุงุช ุฃุณูู ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ููููู ุงุณุชุฎุฏุงููุง ูููุก ุงููุงุฌูุฉ. ูุฌุจ ุชูููุฑ ูุฐู ุงููุฏุฎูุงุช ุนูู ุดูู ูุงุฆูุฉ ูุชุฏุงุฎูุฉุ ุญูุซ ุชุชููู ุงููุงุฆูุฉ ุงูุฎุงุฑุฌูุฉ ูู ุงูุนููุงุช ููุชููู ูู ูุงุฆูุฉ ุฏุงุฎููุฉ ูู ุฅุฏุฎุงู ูุทุงุจู ููู ูููู ุฅุฏุฎุงู.

- `live`: ุฅุฐุง ููุช ุชุฑูุฏ ุฌุนู ูููุฐุฌู ุงูุฃููู "ูุจุงุดุฑูุง"ุ ููุง ูุนูู ุฃู ูููุฐุฌู ูุนูุฏ ุงูุชุดุบูู ูููุง ุชุบูุฑ ุงูุฅุฏุฎุงูุ ูููููู ุชุนููู `live=True`. ูู ุงูููุทูู ุงุณุชุฎุฏุงูู ูุน ุงูููุงุฐุฌ ุงูุณุฑูุนุฉ (ุณูุฑู ูุซุงูุงู ูู ููุงูุฉ ูุฐุง ุงููุณู)

ุจุงุณุชุฎุฏุงู ุงูุฎูุงุฑุงุช ุงููุฐููุฑุฉ ุฃุนูุงูุ ููุชูู ุจูุง ุงูุฃูุฑ ุจูุงุฌูุฉ ุฃูุซุฑ ุงูุชูุงูุงู. ูู ุจุชุดุบูู ุงูููุฏ ุฃุฏูุงู ุญุชู ุชุชููู ูู ุงูุฏุฑุฏุดุฉ ูุน ุฑูู ูููุฑุชู:

```py
title = "ุงุณุฃู ุฑูู ุณุคุงูุงู"
description = """
ุชู ุชุฏุฑูุจ ุงูุจูุช ููุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุจูุงุกู ุนูู ุญูุงุฑุงุช ุฑูู ูููุฑุชู. ุงุณุฃู ุฑูู ุฃู ุดูุก!
<img src="https://huggingface.co/spaces/course-demos/Rick_and_Morty_QA/resolve/main/rick.png" width=200px>
"""

article = "ุชููุฏ [ุจูุช ุฑูู ูููุฑุชู ุงูุฃุตูู](https://huggingface.co/spaces/kingabzpro/Rick_and_Morty_Bot) ุงูุฐู ูุนุชูุฏ ุนููู ูุฐุง ุงููููุฐุฌ ุงูุฃููู."

gr.Interface(
fn=predictุ
inputs="textbox"ุ
outputs="text"ุ
title=titleุ
description=descriptionุ
article=articleุ
examples=[["ูุงุฐุง ุชูุนูุ"]ุ ["ุฅูู ุฃูู ูุฌุจ ุฃู ูุณุงูุฑ ุนุจุฑ ุงูุฒููุ"]]]ุ
).launch()
```

ุจุงุณุชุฎุฏุงู ุงูุฎูุงุฑุงุช ุงููุฐููุฑุฉ ุฃุนูุงูุ ููุชูู ุจูุง ุงูุฃูุฑ ุจูุงุฌูุฉ ุฃูุซุฑ ุงูุชูุงูุงู. ุฌุฑูุจ ุงููุงุฌูุฉ ุฃุฏูุงู:

<iframe src="https://course-demos-Rick-and-Morty-QA.hf.space" frameBorder="0" height="800" title="ุชุทุจูู Gradio" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

### ูุดุงุฑูุฉ ูููุฐุฌู ุงูุฃููู ุจุฑูุงุจุท ูุคูุชุฉ

ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญ ูุฏููุง ูููุฐุฌ ุฃููู ูุนุงู ููููุฐุฌ ุงูุชุนูู ุงูุขูู ุงูุฎุงุต ุจูุงุ ุฏุนููุง ูุชุนูู ููููุฉ ูุดุงุฑูุฉ ุฑุงุจุท ููุงุฌูุชูุง ุจุณูููุฉ.

ูููู ูุดุงุฑูุฉ ุงููุงุฌูุงุช ุจุณูููุฉ ุจุดูู ุนุงู ุนู ุทุฑูู ุชุนููู `share=True` ูู ุทุฑููุฉ `launch()`:

```python
gr.Interface(classify_image, "image", "label").launch(share=True)
```

ููุดุฆ ูุฐุง ุฑุงุจุทูุง ุนุงููุง ูููู ูุดุงุฑูุชู ููููู ุฅุฑุณุงูู ุฅูู ุฃู ุดุฎุต! ุนูุฏูุง ุชุฑุณู ูุฐุง ุงูุฑุงุจุทุ ูููู ูููุณุชุฎุฏู ุนูู ุงูุทุฑู ุงูุขุฎุฑ ุชุฌุฑุจุฉ ุงููููุฐุฌ ูู ูุชุตูุญู ููุฏุฉ ุชุตู ุฅูู 72 ุณุงุนุฉ. ูุธุฑูุง ูุฃู ุงููุนุงูุฌุฉ ุชุญุฏุซ ุนูู ุฌูุงุฒู (ุทุงููุง ุฃู ุฌูุงุฒู ููุฏ ุงูุชุดุบูู!)ุ ููุง ุฏุงุนู ููููู ุจุดุฃู ุชุนุจุฆุฉ ุฃู ุชุจุนูุงุช. ุฅุฐุง ููุช ุชุนูู ูู ุฏูุชุฑ ููุงุญุธุงุช Google Colabุ ูุชู ุฏุงุฆููุง ุฅูุดุงุก ุฑุงุจุท ูุดุงุฑูุฉ ุชููุงุฆููุง. ูุจุฏู ุงูุฃูุฑ ุนุงุฏุฉู ูุซู ูุฐุง: **XXXXX.gradio.app**. ุนูู ุงูุฑุบู ูู ุฃู ุงูุฑุงุจุท ูุชู ุชูุฏููู ูู ุฎูุงู ุฑุงุจุท Gradioุ ุฅูุง ุฃููุง ูุฌุฑุฏ ูููู ูุฎุงุฏูู ุงููุญููุ ููุง ูุฎุฒู ุฃู ุจูุงูุงุช ูุชู ุฅุฑุณุงููุง ุนุจุฑ ุงููุงุฌูุงุช.

ููุน ุฐููุ ุถุน ูู ุงุนุชุจุงุฑู ุฃู ูุฐู ุงูุฑูุงุจุท ูููู ุงููุตูู ุฅูููุง ุจุดูู ุนุงูุ ููุง ูุนูู ุฃู ุฃู ุดุฎุต ููููู ุงุณุชุฎุฏุงู ูููุฐุฌู ููุชูุจุค! ูุฐููุ ุชุฃูุฏ ูู ุนุฏู ุงููุดู ุนู ุฃู ูุนูููุงุช ุญุณุงุณุฉ ูู ุฎูุงู ุงููุธุงุฆู ุงูุชู ุชูุชุจูุงุ ุฃู ุงูุณูุงุญ ุจุฅุฌุฑุงุก ุฃู ุชุบููุฑุงุช ุญุฑุฌุฉ ุนูู ุฌูุงุฒู. ุฅุฐุง ููุช ุจุชุนููู `share=False` (ุงูุงูุชุฑุงุถู)ุ ูุณูุชู ุฅูุดุงุก ุฑุงุจุท ูุญูู ููุท.

### ุงุณุชุถุงูุฉ ูููุฐุฌู ุงูุฃููู ุนูู Hugging Face Spaces

ูู ุงูุฑุงุฆุน ุฃู ูููู ูุฏูู ุฑุงุจุท ูุดุงุฑูุฉ ููููู ุชูุฑูุฑู ุฅูู ุฒููุงุฆูุ ูููู ููู ููููู ุงุณุชุถุงูุฉ ูููุฐุฌู ุงูุฃููู ุจุดูู ุฏุงุฆู ูุฌุนูู ููุฌูุฏูุง ูู "ูุณุงุญุชู" ุงูุฎุงุตุฉ ุนูู ุงูุฅูุชุฑูุชุ

ูููุฑ Hugging Face Spaces ุงูุจููุฉ ุงูุชุญุชูุฉ ูุงุณุชุถุงูุฉ ูููุฐุฌ Gradio ุงูุฎุงุต ุจู ุจุดูู ุฏุงุฆู ุนูู ุงูุฅูุชุฑูุชุ **ูุฌุงููุง**! ุชุชูุญ ูู ุงููุณุงุญุงุช ุฅูุดุงุก ูุฅุฑุณุงู ุฅูู ูุณุชูุฏุน (ุนุงู ุฃู ุฎุงุต)ุ ุญูุซ ุชูุฌุฏ ููุฏ ูุงุฌูุฉ Gradio ุงูุฎุงุตุฉ ุจู ูู ููู `app.py`. [ุงูุฑุฃ ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุฎุทูุฉ ุจุฎุทูุฉ](https://huggingface.co/blogs/gradio-spaces) ููุจุฏุกุ ุฃู ุดุงูุฏ ููุฏูู ุชูุถูุญู ุฃุฏูุงู.

<Youtube id="LS9Y2wDVI0k" />

## โ๏ธ ุฏุนููุง ูุทุจูู!

ุจุงุณุชุฎุฏุงู ูุง ุชุนูููุงู ููุชู ูู ุงูุฃูุณุงู ุญุชู ุงูุขูุ ุฏุนูุง ููุดุฆ ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงูุฑุณููุงุช ุงูุฐู ุฑุฃููุงู ูู [ุงููุณู ุงูุฃูู ูู ูุฐุง ุงููุตู](/course/chapter9/1). ุฏุนูุง ูุถูู ุจุนุถ ุงูุชุฎุตูุต ุฅูู ูุงุฌูุชูุง ููุญุฏุฏ `share=True` ูุฅูุดุงุก ุฑุงุจุท ุนุงู ูููููุง ุชูุฑูุฑู.

ูููููุง ุชุญููู ุงูุชุณููุงุช ูู [class_names.txt](https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/class_names.txt) ูุชุญููู ูููุฐุฌ PyTorch ุงููุฏุฑุจ ูุณุจููุง ูู [pytorch_model.bin](https://huggingface.co/spaces/dawood/Sketch-Recognition/blob/main/pytorch_model.bin). ูู ุจุชูุฒูู ูุฐู ุงููููุงุช ุนู ุทุฑูู ุงุชุจุงุน ุงูุฑุงุจุท ูุงูููุฑ ููู "ุชูุฒูู" ูู ุงูุฑูู ุงูุนููู ุงูุฃูุณุฑ ูู ูุนุงููุฉ ุงูููู. ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูููุฏ ุฃุฏูุงู ููุฑู ููู ูุณุชุฎุฏู ูุฐู ุงููููุงุช ูุชุญููู ูููุฐุฌูุง ูุฅูุดุงุก ูุธููุฉ `predict()` ุงูุฎุงุตุฉ ุจูุง:

```py
from pathlib import Path
import torch
import gradio as gr
from torch import nn

LABELS = Path("class_names.txt").read_text().splitlines()

model = nn.Sequential(
nn.Conv2d(1, 32, 3, padding="same"),
nn.ReLU(),
nn.MaxPool2d(2),
nn.Conv2d(32, 64, 3, padding="same"),
nn.ReLU(),
nn.MaxPool2d(2),
nn.Conv2d(64, 128, 3, padding="same"),
nn.ReLU(),
nn.MaxPool2d(2),
nn.Flatten()ุ
nn.Linear(1152, 256)ุ
nn.ReLU()ุ
nn.Linear(256, len(LABELS))ุ
)
state_dict = torch.load("pytorch_model.bin"ุ map_location="cpu")
model.load_state_dict(state_dictุ strict=False)
model.eval()


def predict(im):
x = torch.tensor(imุ dtype=torch.float32).unsqueeze(0).unsqueeze(0) / 255.0
with torch.no_grad():
out = model(x)
probabilities = torch.nn.functional.softmax(out[0]ุ dim=0)
valuesุ indices = torch.topk(probabilitiesุ 5)
return {LABELS[i]: v.item() for iุ v in zip(indicesุ values)}
```

ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญ ูุฏููุง ูุธููุฉ `predict()`ุ ุชุชูุซู ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุชุญุฏูุฏ ูุฅุทูุงู ูุงุฌูุฉ Gradio ุงูุฎุงุตุฉ ุจูุง:

```py
interface = gr.Interface(
predictุ
inputs="sketchpad"ุ
outputs="label"ุ
theme="huggingface"ุ
title="Sketch Recognition"ุ
description="ูู ูุฑูุฏ ุฃู ููุนุจ Pictionaryุ ุงุฑุณู ุดูุฆูุง ุดุงุฆุนูุง ูุซู ูุฌุฑูุฉ ุฃู ููุจููุชุฑ ูุญูููุ ูุณูุฎูู ุงูุฎูุงุฑุฒููุฉ ูู ุงูููุช ุงููุนูู!"ุ
article="<p style='text-align: center'>Sketch Recognition | Demo Model</p>"ุ
live=Trueุ
)
interface.launch(share=True)
```

<iframe src="https://course-demos-Sketch-Recognition.hf.space" frameBorder="0" height="650" title="ุชุทุจูู Gradio" class="container p-0 flex-grow space-iframe" allow="accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>

ูุงุญุธ ูุนููุฉ `live=True` ูู `Interface`ุ ูุงูุชู ุชุนูู ุฃู ูููุฐุฌ ุงูุฑุณู ุงูุชูุถูุญู ูููู ุจุชูุจุค ูููุง ูุงู ุดุฎุต ูุง ุจุงูุฑุณู ุนูู ููุญุฉ ุงูุฑุณู (ุจุฏูู ุฒุฑ ุฅุฑุณุงู!).

ุนูุงูุฉ ุนูู ุฐููุ ูููุง ุฃูุถูุง ุจุชุนููู ุญุฌุฉ `share=True` ูู ุทุฑููุฉ `launch()`.

ุณูุคุฏู ูุฐุง ุฅูู ุฅูุดุงุก ุฑุงุจุท ุนุงู ููููู
ุฃุฑุณู ุฅูู ุฃู ุดุฎุต! ุนูุฏูุง ุชุฑุณู ูุฐุง ุงูุฑุงุจุทุ ูููู ูููุณุชุฎุฏู ุนูู ุงูุทุฑู ุงูุขุฎุฑ ุชุฌุฑุจุฉ
ูููุฐุฌ ุงูุชุนุฑู ุนูู ุงูุฑุณููุงุช. ููุชุฃููุฏุ ููููู ุฃูุถูุง ุงุณุชุถุงูุฉ ุงููููุฐุฌ ุนูู Hugging Face Spacesุ
ููุฐุง ูู ุงูุณุจุจ ูู ุฃููุง ูุงุฏุฑูู ุนูู ุชุถููู ุงููููุฐุฌ ุงูุชูุถูุญู ุฃุนูุงู.

ุจุนุฏ ุฐููุ ุณูุบุทู ุทุฑููุง ุฃุฎุฑู ูููู ูู ุฎูุงููุง ุงุณุชุฎุฏุงู Gradio ูุน ูุธุงู Hugging Face ุงูุจูุฆู!